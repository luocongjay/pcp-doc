---
title: äº‹ä»¶åˆ—è¡¨
---
### ä»‹ç»
ğŸ“« PassTo CreditPayåœ¨äº¤æ˜“ç”Ÿå‘½å‘¨æœŸçš„æ¯ä¸ªé˜¶æ®µï¼Œé€šè¿‡Webhookå®æ—¶å‘å¤–ç•Œä¼ é€’ç³»ç»Ÿå†…çš„è¡Œä¸ºä¿¡æ¯ã€‚å¹³å°èƒ½å¤Ÿæ ¹æ®ä¸åŒäº‹ä»¶çµæ´»è°ƒæ•´ï¼Œå®æ–½ç›¸åº”çš„ä¸šåŠ¡ç­–ç•¥ä»¥ä¼˜åŒ–ç”¨æˆ·ä½“éªŒã€‚
:::warning
éœ€è¦åœ¨PassTo Credit Payåå°é…ç½®ç”¨äºæ¥æ”¶äº‹ä»¶çš„Webhooks  
é…ç½®çš„URLéœ€è¦å…è®¸å…¬ç½‘`POST`è¯·æ±‚
:::
***

<br/>

### äº‹ä»¶åˆ—è¡¨
| äº‹ä»¶åç§°            | äº‹ä»¶æè¿°           |
| ------------------- | ------------------ |
| PAY_START           | è¯·æ±‚æ”¯ä»˜           |
| ASSIGN_SUCCESS      | åˆ†é…æˆåŠŸ           |
| ASSIGN_FAILED       | åˆ†é…å¤±è´¥           |
| GET_BARCODE_SUCCESS | è·å–æ”¯æŒæ¡ç æˆåŠŸ   |
| GET_BARCODE_FAILED  | è·å–æ”¯æŒæ¡ç å¤±è´¥   |
| PAY_SUCCESS         | æ”¯ä»˜æˆåŠŸï¼ˆå¤šæ¬¡ï¼‰   |
| REFUND              | é€€æ¬¾ï¼ˆå¤šæ¬¡ï¼‰       |
| PAY_TIMEOUT         | æ”¯ä»˜ç»“æŸï¼ˆæœªä»˜æ¬¾ï¼‰ |
| PAY_FINISH          | æ”¯ä»˜ç»“æŸï¼ˆå·²ä»˜æ¬¾ï¼‰ |
| SESSION_RENEWAL     | tokenç»­æœŸ          |

:::warning
1. PAY_SUCCESS é€šå¸¸æƒ…å†µä¸‹ä¼šåœ¨PAY_TIMEOUTä¹‹å‰å‡ºç°ã€‚å½“ç½‘ç»œå‡ºç°æ³¢åŠ¨æ—¶ï¼ŒPAY_SUCCESSå¯èƒ½ä¼šåœ¨PAY_TIMEOUTä¹‹åå‡ºç°ã€‚
:::

### Webhookè¯·æ±‚å‚æ•°ç¤ºä¾‹
#### Headers
| å‚æ•°å      | ç±»å‹   | æè¿°                                                                               |
| ----------- | ------ | ---------------------------------------------------------------------------------- |
| signerature | string | é’ˆå¯¹pathå’Œbodyçš„ç­¾åï¼Œä½¿ç”¨HMAC-SHA1ç­¾åç®—æ³•ï¼Œç­¾åç®—æ³•å‚è€ƒæ–‡æ¡£ï¼š[èº«ä»½æ ¡éªŒ](../auth) |
| token"      | string | å¹³å°ç”¨æˆ·token, ä¸å¹³å°è·å–ä¸€æ¬¡æ€§äºŒç»´ç æˆæƒç æ—¶ä¼ å…¥çš„customer_tokenä¸€è‡´ã€‚            |
| trace       | string | ç”¨äºæ ‡è¯†æœ¬æ¬¡è¯·æ±‚çš„å”¯ä¸€idï¼Œç”¨äºæ’æŸ¥é—®é¢˜ï¼Œè¯·ä¿æŒå”¯ä¸€ã€‚                               |
| timestamp   | int    | è¯·æ±‚æ—¶é—´æˆ³, 13ä½ã€‚                                                                 |
<br/>

#### Body
| å‚æ•°å      | ç±»å‹   | æè¿°                                                                            |
| ----------- | ------ | ------------------------------------------------------------------------------- |
| type        | string | äº‹ä»¶ç±»å‹ï¼Œä¾‹å¦‚ï¼šPAY_SUCCESS                                                     |
| platform_id | string | å¹³å°å”¯ä¸€ID                                                                      |
| retry       | int    | é‡è¯•æ¬¡æ•°ï¼Œé»˜è®¤ä¸º0ï¼Œå½“ä¸º0æ—¶ï¼Œè¡¨ç¤ºç¬¬ä¸€æ¬¡å‘é€ï¼Œå½“ä¸º1æ—¶ï¼Œè¡¨ç¤ºç¬¬äºŒæ¬¡å‘é€ï¼Œä»¥æ­¤ç±»æ¨ã€‚ |
| event_id    | string | äº‹ä»¶å”¯ä¸€IDï¼Œç”¨äºæ ‡è¯†æœ¬æ¬¡äº‹ä»¶ï¼Œè¯·ä¿æŒå”¯ä¸€ã€‚                                      |
| data        | object | æ•°æ®å†…å®¹å‚è€ƒå¯¹åº”ä»¥ä¸‹`äº‹ä»¶ç±»å‹`                                                  |
<br/>

### è¿”å›å‚æ•°è¦æ±‚
**æ¥æ”¶æ–¹è¿”å›çŠ¶æ€ç 200ï¼Œè§†ä¸ºé€šçŸ¥æˆåŠŸã€‚**
**å…¶ä½™çŠ¶æ€ç è§†ä¸ºé€šçŸ¥å¤±è´¥ã€‚CreditPayå°†ä¼šé‡è¯•é€šçŸ¥ï¼Œé¢‘ç‡ä¸º5åˆ†é’Ÿä¸€æ¬¡ã€‚æœ€å¤§é‡è¯•æ¬¡æ•°10æ¬¡**
<br/>


### äº‹ä»¶ç±»å‹ç¤ºä¾‹
<br/>

### è¯·æ±‚æ”¯ä»˜
**PAY_START**
```json

```

### åˆ†é…æˆåŠŸ
**ASSIGN_SUCCESS**
```json
{
    "tag": "1647",
    "token": "46b5e4fa6b860f671f7717f650dabdce_a4faffd33159d0dd0e1dd2d4e36af440",
    "session_sign": "581f3a3b9eb9cf983c51b928d569126a_7597a082-e5b5-4adc-89b7-6dc5533f82c6",
    "real_ip": "47.242.92.158"
}
```

### åˆ†é…å¤±è´¥
**ASSIGN_FAILED**
```json
{
    "tag": "1273",
    "token": "6e30ecf991aa19f1902a760dcb439d85_a6c32249d2f64a30bba0d1449deb4da0",
    "session_sign": "a86dd3d16ae4127db6e551eb99bb9924_a6fdca2c-e4ec-4b96-ac51-d3368af17f22",
    "real_ip": "103.122.95.170"
}
```

### è·å–æ”¯æŒæ¡ç æˆåŠŸ
**GET_BARCODE_SUCCESS**
```json
{
    "tag": "1647",
    "token": "46b5e4fa6b860f671f7717f650dabdce_a4faffd33159d0dd0e1dd2d4e36af440",
    "session_sign": "581f3a3b9eb9cf983c51b928d569126a_7597a082-e5b5-4adc-89b7-6dc5533f82c6",
    "real_ip": "47.242.92.158"
}
```

### è·å–æ”¯æŒæ¡ç å¤±è´¥
**GET_BARCODE_FAILED**
```json
{
    "tag": "1540",
    "token": "67e2507583e39f414ea1bfe4265262a5_673e9873ce3c53ebd1794e42118607a3",
    "session_sign": "5c2b37a4364bec1da13d2bbd71235c19_43251f4a-2ef8-4291-800b-92f7f0d08337",
    "real_ip": "89.208.252.167"
}
```

### æ”¯ä»˜æˆåŠŸ
**PAY_SUCCESS**
```json
{
    "tag": "1553",
    "token": "b23703391a8fce673a748006cfe23e97_963f616f7f55283ed60d1d8f172a8356",
    "amount": "1",
    "currency": "CNY",
    "orderNo": "3_2024120704200246001080548276",
    "tradeTime": 1733552119000,
    "merchantName": "%E6%B7%B1%E5%9C%B3%E9%BE%99%E5%B2%97%E5%8C%BA%E6%AC%A3%E7%99%BE%E4%BD%B3%E7%99%BE%E8%B4%A7%E5%95%86%E8%A1%8C",
    "chargeOrderNo": "",
    "realIp": "",
    "remark": ""
}
```

### é€€æ¬¾
**REFUND**
```json
{
    "tag": "1553",
    "token": "b23703391a8fce673a748006cfe23e97_963f616f7f55283ed60d1d8f172a8356",
    "amount": "1",
    "currency": "CNY",
    "orderNo": "4_2024120704200246001080482707_20241207300002005727461205742177",
    "tradeTime": 1733551241000,
    "merchantName": "%E9%80%80%E6%AC%BE-%E6%B7%B1%E5%9C%B3%E9%BE%99%E5%B2%97%E5%8C%BA%E6%AC%A3%E7%99%BE%E4%BD%B3%E7%99%BE%E8%B4%A7%E5%95%86%E8%A1%8C",
    "chargeOrderNo": "4_2024120704200246001080482707",
    "realIp": "",
    "remark": ""
}
```

### æ”¯ä»˜ç»“æŸï¼ˆæœªä»˜æ¬¾ï¼‰
**PAY_TIMEOUT**
```json
{
    "tag": "1647",
    "token": "46b5e4fa6b860f671f7717f650dabdce_a4faffd33159d0dd0e1dd2d4e36af440",
    "session_sign": "581f3a3b9eb9cf983c51b928d569126a_7597a082-e5b5-4adc-89b7-6dc5533f82c6",
    "real_ip": "47.242.92.158"
}
```

### æ”¯ä»˜ç»“æŸï¼ˆå·²ä»˜æ¬¾ï¼‰
**REFUND**
```json

```

### tokenç»­æœŸ 
**SESSION_RENEWAL**
```json
{
    "token": "3b61007694319ab6e720994870e65509_8ea7636f-a817-4af0-8f27-158b573d0874app",
    "timestamp": 1732782061830
}
```